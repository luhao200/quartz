---
title: 便携式录波装置设计要求
date: 2024-04-16 22:44:26
tags: 
---

- 设计简介
    - 本设计实现==便携式录波==功能，==采集8路交流信号和12路开入量信号==，保存为==comtrade格式==的录波文件，通过==网口用FTP方式==传到电脑端。录波具备==手动录波功能和突变量录波==功能。
- 硬件平台
    - ==T113i+AD7606==：AD7606按==单线串行==输出时，按每周波80点（即采样率4K）设计；AD7606按==双线串行==输出时，按每周波128点（即采样率6.4K）设计；
    - 具有==开入采集==功能。开入本次可==按24V设计==即可
    - 设计==3个指示灯==（运行、录波、告警）、==2个按键==（启动录波、停止录波）
- 软件功能
    - 实现AD7606和开入信号的采集。
    - ==手动录波==功能：按启动录波后，启动录波功能（含交流信号和开入信号），一直到按下停止录波功能后，停止录波功能，将这段时间录取的波形数据按comtrade的格式存入文件系统中。
    - ==突变量录波==功能：装置正常运行，当某一通道的计算值达到阈值，自动启动录波功能，此时录波的数据为录波时刻点前10个周波和后20个周波。突变量启动条件，开关量启动需补充
    - 手动录波和突变量录波功能的优先级问题，正常运行时，装置==默认为突变量录波==功能，一旦按==启动录波==功能后，装置==切换为手动录波==功能，如此时装置在突变量录波时，==丢弃突变量的录波==，处理手动录波的功能
    - 录波过程中要关注存储空间的限制，当==存储空间有限==时，==删掉最老的录波，保存最新的录波，同时点亮告警灯，以提示手动删除录波文件，释放空间==。
    - 装置需要==支持配置文件==的功能：即设计一个配置文件，下载到装置中，程序解析里面的内容，作为数据采集或逻辑判定的依据，配置文件中设置的值为==装置的参数==，可以如下：
    - Chn1，名称，系数，启动条件
    - Chn2，名称，系数，启动条件
    - 。
    - 。
    - 。
    - Chn8，名称，系数，启动条件
    - /////开入
    - Chn9，名称 是否启动录波
- 后期展望
    - 需要==AD通道数增加==，采样率提升，==硬件平台更换==
- 软件要求
    - 考虑到后期展望，在软件设计时，需要考虑==模块化==、与==硬件解耦==、==可移植性==。
    - ==生成comtrade格式==的代码要达到代码可复用的目标。
